<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>é«˜äº®æœç´¢ ğŸ‘€</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <form class="search-form">
    <input id="inp" type="text" class="search" placeholder="åŒ—äº¬åŸåŒº">
    <ul id="sgt" class="suggestions">
      <li>è¿‡æ»¤åŒ—äº¬åŸåŒº</li>
    </ul>
  </form>

  <script>
    // 3h no.1
    // 1h no.2
    const district = [
      'ä¸œåŸåŒº',
      'è¥¿åŸåŒº',
      'æœé˜³åŒº',
      'ä¸°å°åŒº',
      'çŸ³æ™¯å±±åŒº',
      'æµ·æ·€åŒº',
      'é—¨å¤´æ²ŸåŒº',
      'æˆ¿å±±åŒº',
      'é€šå·åŒº',
      'é¡ºä¹‰åŒº',
      'æ˜Œå¹³åŒº',
      'å¤§å…´åŒº',
      'æ€€æŸ”åŒº',
      'å¹³è°·åŒº',
      'å¯†äº‘åŒº',
      'å»¶åº†åŒº'
    ];
    /**
     * åŒ…è£¹å…ƒç´ 
     * @param {Array} aDistrict åŸåŒº
     * @param {String} val è¾“å…¥çš„å€¼
     * @return {String};
     */
    var wrap = function(aDistrict, val) {
      return '<li><span>' + aDistrict.replace(
        new RegExp(val, 'g'),
        '<span class="hl">'+ val +'</span>'
      ) + '</span></li>';
    };
    /**
     * è¾“å…¥æ–¹æ³•
     * @param {InputEvent} e åŸåŒº
     * @return undefined;
     */
    var input = function(e) {

      var val = this.value;

      var sgt = document.querySelector('#sgt');
      // å¦‚æœæ²¡æœ‰è¾“å…¥å†…å®¹
      if(!val.length) {
        sgt.innerHTML = '<li>è¿‡æ»¤åŒ—äº¬åŸåŒº</li>';
        return ;
      }
      // ç­›é€‰å‡ºè¾“å…¥çš„å­—ç¬¦ä¸²
      var afterDistrict = district.filter(dtt => dtt.indexOf(val) > -1);
      // å¦‚æœç­›é€‰æœ‰ç»“æœ
      if(afterDistrict.length) {
        // åœ¨ç­›é€‰å‡ºçš„æ¯æ¡ç»“æœ( map )å¤–é¢å¥—ä¸Šç›¸åº”çš„ç»“æ„( wrap )ï¼Œå¹¶è½¬æˆå­—ç¬¦ä¸²( join )
        sgt.innerHTML = afterDistrict.map(aDistrict => wrap(aDistrict, val)).join('');
      }
    };
    // ç»‘å®šè¾“å…¥æ–¹æ³•
    document.querySelector('#inp').oninput = input;

  </script>


</body>
</html>
